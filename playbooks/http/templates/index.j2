<<<<<<< HEAD
<!DOCTYPE html>
<html>
<head>
  <title>First exam </title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous" rel="stylesheet">

<style>
body {background-color: #edeef7;
padding: 0;
margin-left: 50px;
margin-right: 50px;
margin-top: 50px;
}

input{
  background-color: #b8b5ff;
  position: center;

}

h2   {color: #7868e6;
font-family: calibri; 
}
h1 {color: #7868e6;
font-family: calibri;
}

table{
  margin-right:20px;
}

</style>

</head>
<body>
  <h1><center>Welcome to {{hostname.stdout}}"</center></h1>
  <p> Welcome to this proyect,  </p>
  <br>
  <!--Area to Add a file-->
  <div><h2>Add a file</h2></div>
  <p> Select file that you want save in our database</p>
  <br>
  <!--Filechooser
  -->
    <div class="input-file input-file--reverse">
          <center><input type="file" id="file">
          <label for="file" class="input-file__field"></label></center>
         
      </div>
   
  <br>
   <!--Area to view uploaded files-->
  <div><h2>Uploaded files</h2></div>
  <p> Here you can see all ulpoaded files.</p><br>

  <!--Table with information of database and every upluaded files-->
  <center><table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Name</th>
      <th scope="col">Id</th>
      <th scope="col">Path</th>
      <th scope="col">Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">1</th>
      <td>Mark</td>
      <td>Otto</td>
      <td>@mdo</td>
      <td>like</td>
    </tr>
    <tr>
      <th scope="row">2</th>
      <td>Jacob</td>
      <td>Thornton</td>
      <td>@fat</td>
    </tr>
    <tr>
      <th scope="row">3</th>
      <td colspan="2">Larry the Bird</td>
      <td>@twitter</td>
    </tr>
  </tbody>
</table>
</table></center>

  <!--Area to view uploaded files-->
  <br><div><h2>Resource information</h2></div>
  <p> Here you can see all information about servers </p>
  <br>
   <center><table class="table table-borderless">
    <tr>
        <th>Name Server</th>
        <th>Storage</th>
       
      </tr>
      <tr>
        <td>Server # </td>
        <td>Storage</td>
=======
<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

  </head>

  <h1 align=center> Welcom to  {{print_hostname.stdout}}</h1>
    

    <body>
      <div class="container my-5 text-center">
          <button class="btn btn-danger w-100" onclick="loadFiles()"> List files </button>
          <button class="btn btn-danger w-70" onclick="loadAvstorage()">Look at storage</button>
          <div class="mt-5" id="avstorage">
            <p> </p>
            </div>

          <div class="mt-5" >
            <table class="table">
                <thead>
                  <tr>
                    <th scope="col">id</th>
                    <th scope="col">Name</th>
                    <th scope="col">Path</th>
                    <th scope="col">Type</th>
                  </tr>
                </thead>
                  <tbody id="contenido">

                  </tbody>
            </table>
           </div>

        

     </div>

            <form method="POST" id="form" enctype="multipart/form-data">
            <input type="file" name="files[]" multiple  class="btn btn-danger w-50" />
            <input type="submit" class="btn btn-danger w-80" value="Upload File" name="submit" onclick="loadFiles()" />
            </form>

    <script>
        const url= "https://192.168.33.200"
        var contenido= document.querySelector("#contenido")
        var avstorage= document.querySelector("#avstorage")

        function loadFiles(){

            fetch(url)
           .then(res => res.json())
           .then(data => {
              tableFiles(data)
            })
        }

        function tableFiles(data){
          contenido.innerHTML= '' 

            for(let valor of data){

             contenido.innerHTML += `

              <tr>
               <th scope="row">${valor.id}</th>
               <td>${valor.name}</td>
               <td>${valor.path}</td>
               <td>${valor.type}</td>
               </tr>

               `
            }

        }


        function loadAvstorage(){


         fetch(url + "/avstorage")
         .then(res => res.text())
         .then(data => {
         console.log(data)
         avstorage.innerHTML= `${data}`

          })
        }



        const form = document.querySelector('form')
        form.addEventListener('submit', (e) => {
        e.preventDefault()
>>>>>>> origin/front
        
        const files = document.querySelector('[type=file]').files
        const formData = new FormData()

        for (let i = 0; i < files.length; i++) {
            let file    = files[i]

           formData.append('originalFileName', file)
        }
        console.log(formData.get(name));
        

        fetch(url +"/uploads", {
           method: 'POST',
            body: formData,
        })
        .then((response) => {
            console.log(response)
        })
       
    })

    </script>

  </body>
</html>